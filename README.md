<div align="center">
    <a href="https://log1997.github.io/log-lottery/">
        <img src="./static/images/lottery.png" width="100" height="100" />
    </a>

# log-lottery ğŸš€ğŸš€ğŸš€ğŸš€

[![MIT](https://img.shields.io/github/package-json/v/log1997/log-lottery)](https://github.com/LOG1997/log-lottery)
[![MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://github.com/LOG1997/log-lottery)
[![github](https://img.shields.io/badge/Author-log1997-blue.svg)](https://github.com/log1997)
[![vue3](https://img.shields.io/badge/VUE-3-green.svg)](https://github.com/log1997)
[![build](https://img.shields.io/github/actions/workflow/status/log1997/log-lottery/node.js.yml)](https://github.com/log1997)

</div>

log-lotteryæ˜¯ä¸€ä¸ªå¯é…ç½®å¯å®šåˆ¶åŒ–çš„æŠ½å¥–åº”ç”¨ï¼Œç‚«é…·3Dçƒä½“ï¼Œå¯ç”¨äºå¹´ä¼šæŠ½å¥–ç­‰æ´»åŠ¨ï¼Œæ”¯æŒå¥–å“ã€äººå‘˜ã€ç•Œé¢ã€å›¾ç‰‡éŸ³ä¹é…ç½®ã€‚

> å› åŸåŸŸååˆ°æœŸï¼Œç°å°†åŸåŸŸå (<https://24years.top/log-lottery>)
è¿ç§»åˆ° (<https://1kw20.fun/log-lottery>) ã€‚

> å¦‚æœè¿›å…¥ç½‘ç«™é‡åˆ°å›¾ç‰‡æ— æ³•æ˜¾ç¤ºæˆ–æœ‰æŠ¥é”™çš„æƒ…å†µï¼Œè¯·å…ˆåˆ°ã€å…¨å±€é…ç½®ã€‘-ã€ç•Œé¢é…ç½®ã€‘èœå•ä¸­ç‚¹å‡»ã€é‡ç½®æ‰€æœ‰æ•°æ®ã€‘æŒ‰é’®æ¸…é™¤æ•°æ®åè¿›è¡Œæ›´æ–°ã€‚

> è¯·å°½é‡æ‹‰å–ä»£ç è¿›è¡Œæ„å»ºéƒ¨ç½²ï¼Œæœ¬çº¿ä¸Šç½‘ç«™ä»£ç ä¼šä¿æŒæ›´æ–°ï¼Œå¯èƒ½å½±å“åŸæœ‰åŠŸèƒ½å’Œæ•°æ®ã€‚

## è¦æ±‚

ä½¿ç”¨PCç«¯æœ€æ–°ç‰ˆChromeæˆ–Edgeæµè§ˆå™¨ã€‚

è®¿é—®åœ°å€ï¼š

<https://1kw20.fun/log-lottery>

or

<https://log1997.github.io/log-lottery/>

## TODO

- [x] ğŸ• ç‚«é…·3Dçƒä½“ï¼Œå¹´ä¼šæŠ½å¥–å¿…å¤‡ï¼Œå¼€ç®±å³ç”¨
- [x] ğŸ’¾ æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
- [x] ğŸ å¥–å“å¥–é¡¹é…ç½®
- [x] ğŸ‘± æŠ½å¥–åå•è®¾ç½®ç®¡ç†
- [x] ğŸ¼ æ’­æ”¾èƒŒæ™¯éŸ³ä¹
- [x] ğŸ–¼ï¸ excelè¡¨æ ¼å¯¼å…¥äººå‘˜åå•ã€æŠ½å¥–ç»“æœä½¿ç”¨excelå¯¼å‡º
- [x] ğŸˆ å¯å¢åŠ ä¸´æ—¶æŠ½å¥–
- [x] ğŸ§¨ å›½é™…åŒ–å¤šè¯­è¨€
- [x] ğŸƒ æ›´æ¢èƒŒæ™¯å›¾ç‰‡
- [x] ğŸš… æ·»åŠ dockeræ„å»º
- [x] ğŸ˜˜ å¼¹å¹•ï¼ˆå¼€å‘ä¸­ï¼‰
- [ ] ğŸ§µ å¡ç‰‡ç»„æˆå¤šç§å½¢çŠ¶

...
éœ€è¦æ›´å¤šåŠŸèƒ½æˆ–å‘ç°bugè¯·ç•™è¨€[issues](https://github.com/LOG1997/log-lottery/issues)

## è¯¦ç»†ä»‹ç»

### é…ç½®å‚ä¸äººå‘˜

äºäººå‘˜é…ç½®ç®¡ç†ç•Œé¢ä¸‹è½½excelæ¨¡æ¿ï¼ŒæŒ‰è¦æ±‚å¡«å¥½æ•°æ®åå¯¼å…¥å³å¯ã€‚

### é…ç½®å¥–é¡¹

äºå¥–é¡¹é…ç½®ç®¡ç†ç•Œé¢æ·»åŠ å¥–é¡¹åï¼Œè‡ªå®šä¹‰ä¿®æ”¹åç§°ã€æŠ½å–äººæ•°ã€æ˜¯å¦å…¨å‘˜å‚åŠ ã€å›¾ç‰‡æ˜¾ç¤ºã€‚

### ç•Œé¢é…ç½®

å¯è‡ªå®šä¹‰é…ç½®æ ‡é¢˜ã€åˆ—æ•°ã€å¡ç‰‡é¢œè‰²ã€é¦–é¡µå›¾æ¡ˆç­‰ã€‚

### å›¾ç‰‡å’ŒéŸ³ä¹ç®¡ç†

ä¸Šä¼ å›¾ç‰‡æˆ–éŸ³ä¹å³å¯ï¼Œæ•°æ®ä½¿ç”¨indexdbåœ¨æµè§ˆå™¨æœ¬åœ°è¿›è¡Œå­˜å‚¨ã€‚

## é¢„è§ˆ

é¦–é¡µ

![image_home](./static/images/home.png)

![image_home_prize_list](./static//images/home_prizelist.png)

æŠ½å¥–

![image_lottery](./static/images/lottery-enter.png)

![image_lottery_done](./static/images/lottery-done.png)

é…ç½®

![image_config_person_all](./static/images/config_personall.png)

![image_config_prize_list](./static/images/config_prize.png)

![image_config_view](./static/images/config-view.png)

![image_config_pattern](./static/images/config_pattern.png)

å›¾ç‰‡éŸ³ä¹é…ç½®

![image_config_img](./static/images/image_config.png)

![image_music](./static/images/music_music.png)

## æŠ€æœ¯

- vue3
- threejs
- indexdb
- pinia
- daisyui

## å¼€å‘

å®‰è£…ä¾èµ–

```bash
pnpm i
or
npm install
```

å¼€å‘è¿è¡Œ

```bash
pnpm dev
or
npm run dev
```

æ‰“åŒ…

```bash
pnpm build
or
npm run build
```

é¢„è§ˆ

```bash
pnpm preview
or
npm run preview
```

è‹¥æƒ³ç›´æ¥ä»¥æ‰“å¼€htmlæ–‡ä»¶çš„æ–¹å¼è¿è¡Œï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ‰“åŒ…ã€‚æ‰“åŒ…å®Œæˆååœ¨distç›®å½•ä¸­ç›´æ¥æ‰“å¼€index.htmlå³å¯ã€‚

```bash
pnpm build:file
or
npm run build:file
```

> é¡¹ç›®æ€è·¯æ¥æºäº <https://github.com/moshang-xc/lottery>

## Dockeræ”¯æŒ

æ„å»ºé•œåƒ

```bash
docker build -t log-lottery .
```

è¿è¡Œå®¹å™¨

```bash
docker run -d -p 9279:80 log-lottery
```

å®¹å™¨è¿è¡ŒæˆåŠŸåå³å¯åœ¨æœ¬åœ°é€šè¿‡<http://localhost:9279/log-lottery/>è®¿é—®

## æˆå‘˜æ•°æ®å¯¼å‡º (Members XLSX Export)

åœ¨ `ximport` ç›®å½•ä¸‹æ–°å¢äº†è„šæœ¬ï¼Œç”¨äºä»è¿œç¨‹æ¥å£è·å–ä¼šå‘˜æ•°æ®å¹¶å¯¼å‡ºä¸º Excelï¼Œæ–¹ä¾¿æ‰¹é‡å¯¼å…¥æˆ–å¤‡ä»½ã€‚

è„šæœ¬ä½ç½®ï¼š`ximport/members-export.ts`

é»˜è®¤æ¥å£ï¼š
```
https://devdata-gxd7b0aub3eufaf8.southeastasia-01.azurewebsites.net/api/fin-app/members
```

### è¿è¡Œæ­¥éª¤

1. å®‰è£…ä¾èµ– (è‹¥å°šæœªå®‰è£…)
```
pnpm install
```
2. æ‰§è¡Œå¯¼å‡º
```
pnpm run export:members
```
3. å¯¼å‡ºç»“æœæ–‡ä»¶ç”Ÿæˆäºï¼š`ximport/output/` ç›®å½•ï¼Œæ–‡ä»¶åæ ¼å¼ï¼š`members-YYYYMMDD-HHmmss.xlsx`

### è‡ªå®šä¹‰æ¥å£åœ°å€

å¯é€šè¿‡ç¯å¢ƒå˜é‡ `MEMBERS_API_URL` è¦†ç›–é»˜è®¤åœ°å€ï¼š
```
# Windows PowerShell
$Env:MEMBERS_API_URL="https://your-api/members"; pnpm run export:members
```

### å­—æ®µè¯´æ˜ (å½“å‰å¯¼å‡ºåˆ—)

MemberCode, Prefix, FirstName, LastName, FullName, PID, Gender, BirthDate, MemberSince, Department, EmploymentType, JobPosition, CollectionStatus, CollectionType, Married, PhoneNumber, Salary, MonthlyShare, ShareCapital, AccumulatedInterest, BankAccount, BeginningShare, SharePaymentCount, Address, CoopName, ExportDate

å¦‚éœ€å¢åŠ åµŒå¥—å­—æ®µï¼ˆå¦‚è´·æ¬¾åˆçº¦ã€è‚¡é‡‘æ˜ç»†ç­‰ï¼‰ï¼Œå¯åœ¨ `members-export.ts` ä¸­æ‰©å±• `flattenMember` å‡½æ•°ã€‚

### ç®€åŒ–å¯¼å‡º (åªå« Number, Name, Department)

å¦‚æœåªéœ€è¦æœ€å°å­—æ®µé›†åˆï¼Œå¯ä½¿ç”¨ç®€åŒ–è„šæœ¬ï¼š

è„šæœ¬ä½ç½®ï¼š`ximport/members-export-simple.ts`

è¿è¡Œï¼š
```
pnpm run export:members:simple
```

ç”Ÿæˆæ–‡ä»¶ï¼š`ximport/output/members-simple-YYYYMMDD-HHmmss.xlsx`

åˆ—è¯´æ˜ï¼š
```
Number    => memberInfo.memberCode || memberCode
Name      => prefix + firstName + lastName (è‡ªåŠ¨å»æ‰ç©ºå€¼)
Department=> memberInfo.department || ''
```
ä¸åŒ…å« avatar / Identityï¼ˆæŒ‰éœ€æ±‚è¯´æ˜æœªæ˜ å°„ï¼‰ã€‚

### æœ€å°å¯¼å‡º (ä»… uid, name)

è‹¥åªéœ€è¦ï¼š`uid = memberCode`ï¼Œ`name = å§“åæ‹¼æ¥`ï¼Œå¯ä½¿ç”¨ï¼š

è„šæœ¬ä½ç½®ï¼š`ximport/members-export-uid-name.ts`

è¿è¡Œï¼š
```
pnpm run export:members:uidname
```

ç”Ÿæˆï¼š`ximport/output/members-uid-name-YYYYMMDD-HHmmss.xlsx`

åˆ—è¯´æ˜ï¼š
```
uid  => memberInfo.memberCode || memberCode
name => prefix + firstName + lastName ï¼ˆè‡ªåŠ¨è¿‡æ»¤ç©ºå€¼ï¼Œç©ºæ ¼åˆ†éš”ï¼‰
```


## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=LOG1997/log-lottery&type=Date)](https://star-history.com/#LOG1997/log-lottery&Date)

## License

[MIT](http://opensource.org/licenses/MIT)
